---
import AppLayout from '../../layouts/AppLayout.astro';
import PostHeader from '../../components/PostHeader.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.updatedDate.valueOf() - a.data.updatedDate.valueOf()
);
---

<AppLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <h1>Blog</h1>
  <div>
    {
      posts.map((post) => (
        <PostHeader post={post} />
      ))
    }
  </div>
</AppLayout>

